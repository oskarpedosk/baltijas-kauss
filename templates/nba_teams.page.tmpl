{{template "base" .}}

{{define "content"}}
<div class="container p-3">

    <div class="row align-items-md-stretch text-dark mb-4">

        {{range $teamInfo := index .Data "nba_teams"}}

        <div class="col-md-3 {{$teamInfo.TeamID.Int64}}" onClick="open_div('{{$teamInfo.TeamID.Int64}}')">

            <div class="p-5 teamcolor1 border rounded-3 lh-1 {{if eq $teamInfo.DarkText "true"}}text-dark{{else}}text-white{{end}}"
                style="background-image: linear-gradient(90deg, '{{$teamInfo.Color1}}', '{{$teamInfo.Color2}}');">
                <h3>{{$teamInfo.Name}}</h3>
                <hr class="border {{if eq $teamInfo.DarkText "true"}}border-dark{{else}}border-white{{end}} border-1
                    opacity-50">

                <p>Stephen Curry</p>
                <p>James Harden</p>
                <p>Kevin Durant</p>
                <p>Pascal Siakam</p>
                <p>Anthony Davis</p>

                <hr class="border {{if eq $teamInfo.DarkText "true"}}border-dark{{else}}border-white{{end}} border-1
                    opacity-50">
                <div class="fw-lighter">

                    <p>Trae Young</p>
                    <p>Devin Booker</p>
                    <p>Zach LaVine</p>
                    <p>Khris Middleton</p>
                    <p>Zion Williamson</p>
                    <hr class="border {{if eq $teamInfo.DarkText "true"}}border-dark{{else}}border-white{{end}}
                        border-1 opacity-50">
                    <p>Bradley Beal</p>
                    <p>Andrew Wiggins</p>

                </div>
            </div>
        </div>

        {{end}}
    </div>

    {{range $teamInfo := index .Data "nba_teams"}}

    <div id="team_{{$teamInfo.TeamID.Int64}}" style="display: none;" class="align-items-md-stretch mb-4 rounded-3">

        <div class="rounded-3 p-4 border text-white"
            style="background-image: linear-gradient(90deg, '{{$teamInfo.Color1}}', '{{$teamInfo.Color2}}')">

            <div class="row align-items-md-stretch justify-content-between px-3">

                <div class="col-md-2 text-center lh-1 dropend">
                    
                    <a href="#" class="text-white" data-bs-toggle="dropdown" aria-expanded="false">
                        <div
                            class="relative player-shadow bkcolor border border-white border-2 rounded-3 text-center mb-2">
                            <img class="img-fluid" src="https://cdn.nba.com/headshots/nba/latest/1040x760/201939.png"
                                alt="">
                            <h5 class="position p-1">PG</h5>
                        </div>
                    </a>
                    <ul class="dropdown-menu text-small shadow">
                        <li class="dropdown-item">Andre Drummond</li>
                        <li class="dropdown-item">Avery Bradley</li>
                        <li class="dropdown-item">LeBron James</li>
                        <li class="dropdown-item">Luka Doncic</li>
                        <li class="dropdown-item">Zack Randolph</li>
                        <hr class="dropdown-divider">
                        <li class="dropdown-item">Remove player</li>
                    </ul>
                </div>
                <div class="col-md-2 text-center lh-1">
                    <div
                        class="relative player-shadow bkcolor border border-white  border-2 rounded-3 text-center mb-2">
                        <img class="img-fluid" src="https://cdn.nba.com/headshots/nba/latest/1040x760/201935.png"
                            alt="">
                        <h5 class="position p-1">SG</h5>
                    </div>
                </div>
                <div class="col-md-2 text-center lh-1">
                    <div
                        class="relative player-shadow bkcolor border border-white  border-2 rounded-3 text-center mb-2">
                        <img class="img-fluid" src="https://cdn.nba.com/headshots/nba/latest/1040x760/201142.png"
                            alt="">
                        <h5 class="position p-1">SF</h5>
                    </div>
                </div>
                <div class="col-md-2 text-center lh-1">
                    <div
                        class="relative player-shadow bkcolor border border-white  border-2 rounded-3 text-center mb-2">
                        <img class="img-fluid" src="https://cdn.nba.com/headshots/nba/latest/1040x760/1627783.png"
                            alt="">
                        <h5 class="position p-1">PF</h5>
                    </div>
                </div>
                <div class="col-md-2 text-center lh-1">
                    <div
                        class="relative player-shadow bkcolor border border-white  border-2 rounded-3 text-center mb-2">
                        <img class="img-fluid" src="https://cdn.nba.com/headshots/nba/latest/1040x760/203076.png"
                            alt="">
                        <h5 class="position p-1">C</h5>
                    </div>
                </div>

            </div>

            <hr class="border border-1 opacity-0 mt-2">

            <div class="row align-items-md-stretch justify-content-between px-3">

                <div class="col-md-2 text-center lh-1">
                    <div class="relative player-shadow bg-dark border border-dark border-2 rounded-3 text-center mb-2">
                        <img class="img-fluid" src="https://cdn.nba.com/headshots/nba/latest/1040x760/1629027.png"
                            alt="">
                        <h5 class="position text-secondary p-1">PG</h5>
                    </div>
                </div>
                <div class="col-md-2 text-center lh-1">
                    <div class="relative player-shadow bg-dark border border-dark border-2 rounded-3 text-center mb-2">
                        <img class="img-fluid" src="https://cdn.nba.com/headshots/nba/latest/1040x760/1626164.png"
                            alt="">
                        <h5 class="position text-secondary p-1">SG</h5>
                    </div>
                </div>
                <div class="col-md-2 text-center lh-1">
                    <div class="relative player-shadow bg-dark border border-dark border-2 rounded-3 text-center mb-2">
                        <img class="img-fluid" src="https://cdn.nba.com/headshots/nba/latest/1040x760/203897.png"
                            alt="">
                        <h5 class="position text-secondary p-1">SF</h5>
                    </div>
                </div>
                <div class="col-md-2 text-center lh-1">
                    <div class="relative player-shadow bg-dark border border-dark border-2 rounded-3 text-center mb-2">
                        <img class="img-fluid" src="https://cdn.nba.com/headshots/nba/latest/1040x760/203114.png"
                            alt="">
                        <h5 class="position text-secondary p-1">PF</h5>
                    </div>
                </div>
                <div class="col-md-2 text-center lh-1">
                    <div class="relative player-shadow bg-dark border border-dark border-2 rounded-3 text-center mb-2">
                        <img class="img-fluid" src="https://cdn.nba.com/headshots/nba/latest/1040x760/1629627.png"
                            alt="">
                        <h5 class="position text-secondary p-1">C</h5>
                    </div>
                </div>

            </div>

            <hr class="border border-1 opacity-0 mt-2">

            <div class="row align-items-md-stretch justify-content-between px-3">

                <div class="col-md-2 text-center lh-1">
                    <div class="relative player-shadow bg-dark border border-dark border-2 rounded-3 text-center">
                        <img class="img-fluid" src="https://cdn.nba.com/headshots/nba/latest/1040x760/203078.png"
                            alt="">
                        <h5 class="position text-secondary p-1">Res</h5>
                    </div>
                </div>
                <div class="col-md-2 text-center lh-1">
                    <div class="relative player-shadow bg-dark border border-dark border-2 rounded-3 text-center">
                        <img class="img-fluid" src="https://cdn.nba.com/headshots/nba/latest/1040x760/203952.png"
                            alt="">
                        <h5 class="position text-secondary p-1">Res</h5>
                    </div>
                </div>
                <div class="col-md-2 text-center lh-1">
                    <div
                        class="h-100 player-shadow bg-dark border border-dark border-3 rounded-3 d-flex align-items-center justify-content-center">
                        <img class="img-fluid logo-white opacity-50" style="max-height: 50px"
                            src="/static/images/add.png" alt="">
                    </div>
                </div>
                <div class="col-md-2 lh-1">
                    <div
                        class="h-100 player-shadow bg-dark border border-dark border-3 rounded-3 d-flex align-items-center justify-content-center">
                        <img class="img-fluid logo-white opacity-50" style="max-height: 50px"
                            src="/static/images/remove.png" alt="">
                    </div>
                </div>
                <div class="col-md-2 lh-1">
                    <div
                        class="h-100 player-shadow bg-dark border border-dark border-3 rounded-3 d-flex align-items-center justify-content-center">
                        <img class="img-fluid logo-white opacity-50" style="max-height: 50px"
                            src="/static/images/settings.png" alt="">
                    </div>
                </div>
            </div>

        </div>



    </div>

    {{end}}

    <div class="align-items-md-stretch mb-4 rounded-3">

        <div class="rounded-3 p-4 bkcolor text-white">


            {{$res := index .Data "teamInfo"}}

            <form action="/nba/teams" method="post" class="row" novalidate>
                <input type="hidden" name="csrf_token" value="{{.CSRFToken}}">
                <input type="hidden" name="team_id" value="1">
                <div class="col-md-3">
                    <label for="team_name" class="visually-hidden">Team name</label>
                    <input type="text" class="form-control {{with .Form.Errors.Get " team_name"}} is-invalid {{end}}"
                        name="team_name" placeholder="Team name" value="{{$res.Name}}" required>
                    {{with .Form.Errors.Get "team_name"}}
                    <label class="text-white">{{.}}</label>
                    {{end}}
                </div>
                <div class="col-md-3">
                    <label for="abbreviation" class="visually-hidden">Abbreviation</label>
                    <input type="text" class="form-control {{with .Form.Errors.Get " abbreviation"}} is-invalid {{end}}"
                        name="abbreviation" placeholder="Abbreviation" value="{{$res.Abbreviation}}" required>
                    {{with .Form.Errors.Get "abbreviation"}}
                    <label class="text-white">{{.}}</label>
                    {{end}}
                </div>
                <div class="col-auto">
                    <label for="team_color1" class="form-label visually-hidden">Color picker</label>
                    <input type="color" class="form-control form-control-color" name="team_color1"
                        value="{{$res.Color1}}" title="Choose your color">
                </div>
                <div class="col-auto">
                    <label for="team_color2" class="form-label visually-hidden">Color picker</label>
                    <input type="color" class="form-control form-control-color" name="team_color2"
                        value="{{$res.Color2}}" title="Choose your color">
                </div>
                <div class="col-auto">
                    <div class="form-check form-check-inline">
                        <label class="form-check-label">
                            <input class="form-check-input" type="checkbox" name="dark_text" value="true">
                            Dark text
                        </label>
                    </div>
                </div>
                <div class="col-auto">
                    <button type="submit" class="btn btn-outline-light">Update</button>
                </div>
                <div class="col-md-2 text-center d-flex align-items-center justify-content-center lh-1">
                    <img class="img-fluid" src="/static/images/BKslogan.png" alt="">
                </div>

            </form>



        </div>

    </div>


</div>

{{end}}

{{define "js"}}

<script>
    // Example starter JavaScript for disabling form submissions if there are invalid fields
    (() => {
        'use strict'

        // Fetch all the forms we want to apply custom Bootstrap validation styles to
        const forms = document.querySelectorAll('.needs-validation')

        // Loop over them and prevent submission
        Array.from(forms).forEach(form => {
            form.addEventListener('submit', event => {
                if (!form.checkValidity()) {
                    event.preventDefault()
                    event.stopPropagation()
                }

                form.classList.add('was-validated')
            }, false)
        })
    })()

    function open_div(clicked_id) {
        const str = '#team_' + (clicked_id);
        $(str).toggle();
    };
</script>

{{end}}